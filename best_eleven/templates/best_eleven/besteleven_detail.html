{% extends "base.html" %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white/70 backdrop-blur-sm p-8 rounded-xl shadow-xl border border-white/50">

  <h2 class="text-3xl font-extrabold text-purple-800 mb-2">
    {{ formasi.name }}
  </h2>
  <p class="text-lg text-gray-700 mb-4">
    Layout: <strong class="text-purple-700">{{ formasi.layout }}</strong>
  </p>
  <p class="text-sm text-gray-500 mb-6">
    Dibuat oleh: {{ formasi.fan_account.username }} |
    Update terakhir: {{ formasi.updated_at|date:"d M Y, H:i" }}
  </p>

  <hr class="my-6 border-gray-200">

  <h3 class="text-2xl font-semibold text-purple-700 mb-4">
    11 Pemain Terpilih
  </h3>

  <ul class="divide-y divide-gray-200 mb-8">
    {% for player in formasi.players.all %}
      <li class="py-3 flex justify-between items-center group hover:bg-white/50 px-2 -mx-2 rounded-md transition-colors">
        <span class="text-gray-800 font-medium">{{ player.nama_pemain }}</span> {# Pastikan ini nama field yang benar #}
        <span class="text-sm bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-semibold">
          {{ player.position }} {# Sesuaikan jika pakai get_position_display #}
        </span>
      </li>
    {% empty %}
      <li class="py-3 text-gray-500 italic">
        Belum ada pemain yang dipilih untuk formasi ini.
      </li>
    {% endfor %}
  </ul>

  <div class="flex flex-wrap items-center space-x-3 mt-8">

    <a href="{% url 'best_eleven:team_builder' %}?load={{ formasi.pk }}" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 transform hover:scale-105">
      Edit Formasi
    </a>
    <a href="{% url 'best_eleven:besteleven-delete' formasi.pk %}" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 transform hover:scale-105">
      Hapus
    </a>
    <a href="{% url 'best_eleven:besteleven-list' %}" class="text-gray-600 hover:text-gray-800 ml-auto flex items-center group">
      <svg class="mr-1 w-4 h-4 transform group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
      Kembali ke Daftar
    </a>
  </div>

</div>
{% endblock %}